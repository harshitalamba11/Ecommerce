var productData = [{
    image_url: "https://th.bing.com/th/id/OIP.IBIaw5jexudo0Vaov2WCoQHaJ4?w=161&h=215&c=7&r=0&o=5&dpr=1.3&pid=1.7",
    brand: "U.S. Polo Assn.",
    para: "kids Colourblocked Sneakers",
    price: "Rs. 1799",
    rs: 1799,
    strikedoffprice: "Rs 2999",
    offer: "(40% OFF) ",
    atc: "Add to Bag",
    atw: "Add to Whishlist",
    category: "Casual Shoes",

}, {
    image_url: "https://th.bing.com/th/id/OIP.Nx1Znf0M4a3wQzC1kTmdKgHaJ4?w=160&h=214&c=7&r=0&o=5&dpr=1.3&pid=1.7",
    brand: "U.S. Polo Assn.",
    para: "kids Printed Sliders",
    price: "Rs. 674",
    rs: 674,
    strikedoffprice: "Rs 1499",
    offer: "(55% OFF) ",
    atc: "Add to Bag",
    atw: "Add to Whishlist",
    category: "Slippers",
}, {
    image_url: "https://th.bing.com/th/id/OIP.jVqpy6v7VPAA40_00OkBUAHaJ4?w=158&h=211&c=7&r=0&o=5&dpr=1.3&pid=1.7",
    brand: "U.S. Polo Assn.",
    para: "Printed Polo Collar Pure Cotton T-Shirt",
    price: "Rs. 1259",
    rs: 1259,
    strikedoffprice: "Rs 2099",
    offer: "(40% OFF)",
    atc: "Add to Bag",
    atw: "Add to Whishlist",
    category: "Tshirts",
}, {
    image_url: "https://th.bing.com/th/id/OIP.5F_FCvk7jwXqTBNOcz9qHQHaJ4?w=149&h=199&c=7&r=0&o=5&dpr=1.3&pid=1.7",
    brand: "U.S. Polo Assn.",
    para: "Kids Sneakers",
    price: "Rs. 1949",
    rs: 1949,
    strikedoffprice: "Rs 2999 ",
    offer: "(35% OFF) ",
    atc: "Add to Bag",
    atw: "Add to Whishlist",
    category: "Casual Shoes",
}, {
    image_url: "https://th.bing.com/th/id/OIP.Q6_bdJrDMTZ0ZQXXWa0UCQHaJ4?w=208&h=277&c=7&r=0&o=5&dpr=1.3&pid=1.7",
    brand: "U.S. Polo Assn.",
    para: "Kids Printed Thong Flip-Flops ",
    price: "Rs. 599 ",
    rs: 599,
    strikedoffprice: "Rs 999 ",
    offer: "(40% OFF) ",
    atc: "Add to Bag",
    atw: "Add to Whishlist",
    category: "Flip Flops",
}, {
    image_url: "https://th.bing.com/th/id/OIP.rU83AikeJp0chdolhylGjwHaHa?w=200&h=200&c=7&r=0&o=5&dpr=1.3&pid=1.7",
    brand: "Roadster",
    para: "Kids Colourblocked Sneakers ",
    price: "Rs. 1649 ",
    rs: 1649,
    strikedoffprice: "Rs 2999 ",
    offer: "(45% OFF) ",
    atc: "Add to Bag",
    atw: "Add to Whishlist",
    category: "Casual Shoes",
}, {
    image_url: "https://th.bing.com/th/id/OIP.5uOuqAjh9IvRGqwbUVRTuQHaHa?w=200&h=200&c=7&r=0&o=5&dpr=1.3&pid=1.7",
    brand: "Roadster",
    para: "Kids Colourblocked Sneakers ",
    price: "Rs. 1799 ",
    rs: 1799,
    strikedoffprice: "Rs 2999 ",
    offer: "(40% OFF) ",
    atc: "Add to Bag",
    atw: "Add to Whishlist",
    category: "Casual Shoes",
}, {
    image_url: "https://th.bing.com/th/id/OIP.YSfEqeNrfsCybHInnCC2DQHaHa?w=185&h=185&c=7&r=0&o=5&dpr=1.3&pid=1.7",
    brand: "Roadster",
    para: "Kids Colourblocked Sneakers ",
    price: "Rs. 1799 ",
    rs: 1799,
    strikedoffprice: "Rs 2999 ",
    offer: "(40% OFF) ",
    atc: "Add to Bag",
    atw: "Add to Whishlist",
    category: "Casual Shoes",
}, {
    image_url: "https://th.bing.com/th/id/OIP.oxm7eH-5LMDL9HdP52iXggHaHa?w=186&h=186&c=7&r=0&o=5&dpr=1.3&pid=1.7",
    brand: "Roadster",
    para: "Kids Walking Shoes ",
    price: "Rs. 1999 ",
    rs: 1999,
    strikedoffprice: "Rs 3999 ",
    offer: "(50% OFF) ",
    atc: "Add to Bag",
    atw: "Add to Whishlist",
    category: "Casual Shoes",
}, {
    image_url: "https://th.bing.com/th/id/OIP.kO_4xLq5MLLRal_6mizZnAHaHa?w=197&h=197&c=7&r=0&o=5&dpr=1.3&pid=1.7",
    brand: "KLOTTHE",
    para: "Kids School Shoes ",
    price: "Rs. 1799 ",
    rs: 1799,
    strikedoffprice: "Rs 2999 ",
    offer: "(40% OFF) ",
    atc: "Add to Bag",
    atw: "Add to Whishlist",
    category: "Casual Shoes",
}, {
    image_url: "https://th.bing.com/th/id/OIP.PxDNhSmTuKAKkvSeC1w4cgAAAA?w=168&h=180&c=7&r=0&o=5&dpr=1.3&pid=1.7",
    brand: "KLOTTHE",
    para: "Kids Solid CARLIN Sneakers ",
    price: "Rs. 1559 ",
    rs: 1559,
    strikedoffprice: "Rs 2599 ",
    offer: "(40% OFF) ",
    atc: "Add to Bag",
    atw: "Add to Whishlist",
    category: "Casual Shoes",
}, {
    image_url: "https://th.bing.com/th/id/OIP.W3bX_CfvYql153N0sS6euAHaJ4?w=146&h=194&c=7&r=0&o=5&dpr=1.3&pid=1.7",
    brand: "Mast & Harbour",
    para: "Kids Solid Slip-On Sneakers ",
    price: "Rs. 1559 ",
    rs: 1559,
    strikedoffprice: "Rs 2599 ",
    offer: "(40% OFF) ",
    atc: "Add to Bag",
    atw: "Add to Whishlist",
    category: "Casual Shoes",
}, {
    image_url: "https://th.bing.com/th/id/OIP.BKBmhH__REd9vo91M-7NEQHaLH?w=126&h=189&c=7&r=0&o=5&dpr=1.3&pid=1.7",
    brand: "Mast & Harbour",
    para: "Kids Brand Logo Print Sliders ",
    price: "Rs. 824 ",
    rs: 824,
    strikedoffprice: "Rs 1499 ",
    offer: "(45% OFF) ",
    atc: "Add to Bag",
    atw: "Add to Whishlist",
    category: "Slippers",
}, {
    image_url: "https://th.bing.com/th/id/OIP.vU2x1GACRcsMGT2KYNIfBgAAAA?w=164&h=180&c=7&r=0&o=5&dpr=1.3&pid=1.7",
    brand: "Mast & Harbour",
    para: "Kids LEBRON 2.0 Walking Shoes ",
    price: "Rs. 2399 ",
    rs: 2399,
    strikedoffprice: "Rs 3999 ",
    offer: "(40% OFF) ",
    atc: "Add to Bag",
    atw: "Add to Whishlist",
    category: "Casual Shoes",
}, {
    image_url: "https://th.bing.com/th/id/OIP.P1U9e7ZU3KrcsoK9LG-hbAHaHa?w=211&h=211&c=7&r=0&o=5&dpr=1.3&pid=1.7",
    brand: "PUMA",
    para: "Kids Slip-On Sneakers ",
    price: "Rs. 1999 ",
    rs: 1999,
    strikedoffprice: "Rs 3999 ",
    offer: "(50% OFF) ",
    atc: "Add to Bag",
    atw: "Add to Whishlist",
    category: "Casual Shoes",
}, {
    image_url: "https://th.bing.com/th/id/OIP.86jJaSqWFUoEKAQooPTmngHaJ4?w=137&h=183&c=7&r=0&o=5&dpr=1.3&pid=1.7",
    brand: "PUMA",
    para: "Kids Printed Thong Flip-Flops ",
    price: "Rs. 999 ",
    rs: 999,
    strikedoffprice: "Rs 1999 ",
    offer: "(50% OFF) ",
    atc: "Add to Bag",
    atw: "Add to Whishlist",
    category: "Flip Flops",
}, {
    image_url: "https://th.bing.com/th/id/OIP.DHU7uvnJLGVRl5NkP9_fZAHaHa?w=186&h=186&c=7&r=0&o=5&dpr=1.3&pid=1.7",
    brand: "PUMA",
    para: "Colourblocked Polo Collar Pure Cotton ",
    price: "Rs. 1139 ",
    rs: 1139,
    strikedoffprice: "Rs 1899 ",
    offer: "(40% OFF) ",
    atc: "Add to Bag",
    atw: "Add to Whishlist",
    category: "Tshirts",
}, {
    image_url: "https://th.bing.com/th/id/OIP.A_2eK6SGlxWXTgA9SWWRsQHaLH?w=128&h=191&c=7&r=0&o=5&dpr=1.3&pid=1.7",
    brand: "WROGN",
    para: "Kids Slim Fit Chinos ",
    price: "Rs. 1049 ",
    rs: 1049,
    strikedoffprice: "Rs 2099 ",
    offer: "(50% OFF) ",
    atc: "Add to Bag",
    atw: "Add to Whishlist",
    category: "Trousers"
}, {
    image_url: "https://th.bing.com/th/id/OIP.oiPkGfHZA21Ei6uiWpEkowAAAA?w=133&h=199&c=7&r=0&o=5&dpr=1.3&pid=1.7",
    brand: "WROGN",
    para: "Kids  Walking Shoe ",
    price: "Rs. 1799 ",
    rs: 1799,
    strikedoffprice: "Rs 3999 ",
    offer: "(55% OFF) ",
    atc: "Add to Bag",
    atw: "Add to Whishlist",
    category: "Casual Shoes",
}, {
    image_url: "https://th.bing.com/th/id/OIP.qR0EIZ1bRjhWnPoNZQv4JQHaJ4?w=141&h=188&c=7&r=0&o=5&dpr=1.3&pid=1.7",
    brand: "HRX by Hrithik Roshan",
    para: "Stiped Polo Collar Pure Cotton T-Shirt ",
    price: "Rs. 949 ",
    rs: 949,
    strikedoffprice: "Rs 1899 ",
    offer: "(50% OFF) ",
    atc: "Add to Bag",
    atw: "Add to Whishlist",
    category: "Tshirts",
},  {
    image_url: "https://th.bing.com/th/id/OIP.kHIEFQvRqFeZV9KEG8gLWwHaHa?w=209&h=210&c=7&r=0&o=5&dpr=1.3&pid=1.7",
    brand: "HRX by Hrithik Roshan",
    para: "Kids Textured Loafers ",
    price: "Rs. 2159 ",
    rs: 2159,
    strikedoffprice: "Rs 3599 ",
    offer: "(40% OFF) ",
    atc: "Add to Bag",
    atw: "Add to Whishlist",
    category: "Casual Shoes",
}, {
    image_url: "https://th.bing.com/th/id/OIP.bPfhocXpqRt-n4fcf4eXxAHaJ4?w=160&h=214&c=7&r=0&o=5&dpr=1.3&pid=1.7",
    brand: "HRX by Hrithik Roshan",
    para: "Kids MARINOS Thong Flip-Flop ",
    price: "Rs. 499 ",
    rs: 499,
    strikedoffprice: "Rs 999 ",
    offer: "(50% OFF) ",
    atc: "Add to Bag",
    atw: "Add to Whishlist",
    category: "Flip Flops",
}, {
    image_url: "https://th.bing.com/th/id/OIP.zhZnYMYoSMVI_hxE_zHcIAHaJ4?w=150&h=200&c=7&r=0&o=5&dpr=1.3&pid=1.7",
    brand: "HRX by Hrithik Roshan",
    para: "Kids  Sliders ",
    price: "Rs. 1119 ",
    rs: 1119,
    strikedoffprice: "Rs 1599 ",
    offer: "(30% OFF) ",
    atc: "Add to Bag",
    atw: "Add to Whishlist",
    category: "Slippers",
}, {
    image_url: "https://th.bing.com/th/id/OIP.vbSgRkY5BiWHx_UmgKvpGAHaHa?w=184&h=184&c=7&r=0&o=5&dpr=1.3&pid=1.7 ",
    brand: "Flying Machine",
    para: "Printed Polo Collar Pure Cotton T-Shirt ",
    price: "Rs. 1259 ",
    rs: 1259,
    strikedoffprice: "Rs 2099 ",
    offer: "(40% OFF) ",
    atc: "Add to Bag",
    atw: "Add to Whishlist",
    category: "Tshirts",
}, {
    image_url: "https://th.bing.com/th/id/OIP.Z4LJaMwgoNH-PxZgoySwTwHaJ4?w=120&h=180&c=7&r=0&o=5&dpr=1.3&pid=1.7",
    brand: "Flying Machine",
    para: "Kids Solid Sneakers ",
    price: "Rs. 2039 ",
    rs: 2039,
    strikedoffprice: "Rs 3399 ",
    offer: "(40% OFF) ",
    atc: "Add to Bag",
    atw: "Add to Whishlist",
    category: "Casual Shoes",
}, {
    image_url: "https://th.bing.com/th/id/OIP.JS-WPzyYAIvAmgHEOSZ2oAAAAA?w=150&h=187&c=7&r=0&o=5&dpr=1.3&pid=1.7",
    brand: "Flying Machine",
    para: "Kids Solid Sneakers ",
    price: "Rs. 2099 ",
    rs: 2099,
    strikedoffprice: "Rs 2999 ",
    offer: "(30% OFF) ",
    atc: "Add to Bag",
    atw: "Add to Whishlist",
    category: "Casual Shoes",
}, {
    image_url: "https://th.bing.com/th/id/OIP.cJxnN_F_REANbh6aSXWxkwHaJ4?w=158&h=210&c=7&r=0&o=5&dpr=1.3&pid=1.7",
    brand: "Flying Machine",
    para: "Kids Printed Sliders ",
    price: "Rs. 824 ",
    rs: 824,
    strikedoffprice: "Rs 1499 ",
    offer: "(45% OFF) ",
    atc: "Add to Bag",
    atw: "Add to Whishlist",
    category: "Slippers",
}, {
    image_url: "https://th.bing.com/th/id/OIP.g1-KJqofRoB-gxg8tZj9nwHaJ4?w=149&h=199&c=7&r=0&o=5&dpr=1.3&pid=1.7",
    brand: "Roadster",
    para: "Kids Colourblocked Sneakers",
    price: "Rs. 2099",
    rs: 2099,
    strikedoffprice: "Rs 2999",
    offer: "(30% OFF)",
    atc: "Add to Bag",
    atw: "Add to Whishlist",
    category: "Casual Shoes",
}, {
    image_url: "https://th.bing.com/th/id/OIP.u0VII3hJUxMRdwLCgwpIZgHaJR?w=154&h=193&c=7&r=0&o=5&dpr=1.3&pid=1.7",
    brand: "Flying Machine",
    para: "Kids Printed Thong Flip-Flops",
    price: "Rs. 599",
    rs: 599,
    strikedoffprice: "Rs 999",
    offer: "(40% OFF)",
    atc: "Add to Bag",
    atw: "Add to Whishlist",
    category: "Flip Flops",
}, {
    image_url: "https://th.bing.com/th/id/OIP.ibXUz0MQ7PUP2fKXG8DaQwHaHa?w=215&h=215&c=7&r=0&o=5&dpr=1.3&pid=1.7",
    brand: "PUMA",
    para: "Slim Fit Striped Pure Cotton T-Shirt",
    price: "Rs. 1299",
    rs: 1299,
    strikedoffprice: "Rs 1999",
    offer: "(35% OFF) ",
    atc: "Add to Bag",
    atw: "Add to Whishlist",
    category: "Slippers",
}, ];


var wishListData = JSON.parse(localStorage.getItem("wishListObj")) || []

var bagData = JSON.parse(localStorage.getItem("BagListObj")) || []

window.addEventListener('load', function() {
    displayPage(productData)
})

document.getElementById('nameSort').addEventListener('change', sortNames);

function sortNames() {
    var selected = document.getElementById('nameSort').value;
    if (selected == 'asc') {
        productData.sort(function(a, b) {
            if (a.brand > b.brand) return 1
            if (a.brand < b.brand) return -1
            return 0;
        })

        displayPage(productData);
    } else {
        productData.sort(function(a, b) {
            if (a.brand > b.brand) return -1
            if (a.brand < b.brand) return 1
            return 0
        })

        displayPage(productData)
    }
}

document.getElementById('priceSort').addEventListener('change', sortPrice);

function sortPrice() {
    var selected = document.getElementById('priceSort').value;
    if (selected == 'lth') {
        productData.sort(function(a, b) {
            return a.rs - b.rs;
        })
        displayPage(productData);
    } else {
        productData.sort(function(a, b) {
            return b.rs - a.rs;
        })
        displayPage(productData)
    }
}

document.getElementById('brandFilter').addEventListener('change', filterBrand);

function filterBrand() {
    var selected = document.getElementById('brandFilter').value
    var newArray = productData.filter(function(element) {
        if (element.brand == selected) {
            return element;
        }
    })
    displayPage(newArray);
}


function displayPage(productData) {
    document.getElementById("container").innerHTML = "";

    productData.map(function(elem, index) {
        var box = document.createElement("div");
        box.style.cursor = "pointer";

        // Add click event to the entire box
        box.addEventListener("click", function() {
            window.location.href = `product${index + 1}.html`; // Redirect to the respective product page
        });

        var img = document.createElement("img");
        img.src = elem.image_url;

        var contentBox = document.createElement('div');
        contentBox.setAttribute('class', 'contentBox');

        var brand = document.createElement("h4");
        brand.textContent = elem.brand;

        var productname = document.createElement("p");
        productname.textContent = elem.para;

        var mix = document.createElement("div");
        mix.setAttribute("class", "mixbox");

        var price = document.createElement("p");
        price.textContent = elem.price;

        var strprice = document.createElement("p");
        strprice.textContent = elem.strikedoffprice;
        strprice.setAttribute("class", "strikep");

        var offer = document.createElement("p");
        offer.textContent = elem.offer;
        offer.setAttribute("class", "offerp");

        mix.append(price, strprice, offer);

        var atw = document.createElement("p");
        atw.setAttribute("class", "wishListp");
        atw.textContent = elem.atw;
        atw.style.cursor = "pointer";

        atw.addEventListener("click", function(event) {
            event.stopPropagation(); // Prevent the click from bubbling up to the box
            addToWishlist(elem);
            atw.style.color = "green";
            atw.style.fontWeight = "bold";
            atw.innerText = "ADDED TO WISHLIST";
        });

        var atc = document.createElement("p");
        atc.setAttribute("class", "addToBagp");
        atc.textContent = elem.atc;
        atc.style.cursor = "pointer";

        atc.addEventListener("click", function(event) {
            event.stopPropagation(); // Prevent the click from bubbling up to the box
            addToBag(elem);
            atc.style.color = "white";
            atc.style.font = "bold";
            atc.innerText = "ADDED TO BAG";
        });

        contentBox.append(brand, productname, mix, atw, atc);
        box.append(img, contentBox);
        document.querySelector("#container").append(box);
    });
}

document.getElementById('search_bar').addEventListener('input', function () {
    const searchTerm = this.value.toLowerCase();
    const filteredData = productData.filter(product =>
        product.brand.toLowerCase().includes(searchTerm) ||
        product.para.toLowerCase().includes(searchTerm) ||
        product.category.toLowerCase().includes(searchTerm)
    );
    displayPage(filteredData);
});
function addToWishlist(element) {
    // console.log(element)
    wishListData.push(element)
    localStorage.setItem("wishListObj", JSON.stringify(wishListData))
}

function addToBag(element) {
    // console.log(element)
    bagData.push(element)
    localStorage.setItem("BagListObj", JSON.stringify(bagData))
}

document.getElementById('landingPage').addEventListener('click', function() {
window.location.href = "../Landingpage/index.html"
}) 